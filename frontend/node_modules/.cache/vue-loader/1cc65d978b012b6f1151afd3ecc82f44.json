{"remainingRequest":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/john/Documents/Projects/Хакатоны/mvd/frontend/src/components/stat/StatFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/src/components/stat/StatFilter.vue","mtime":1620584643759},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlVGltZUZpZWxkIGZyb20gIi4uL0RhdGVUaW1lRm9ybS52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdGF0RmlsdGVyIiwKCiAgY29tcG9uZW50czogewogICAgRGF0ZVRpbWVGaWVsZCwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsdGVyOiB7CiAgICAgICAgItCT0L7RgNC+0LQiOiAicGFyZW50X3JlZ2lvbiIsCiAgICAgICAgItCg0LXQs9C40L7QvSI6ICJyZWdpb24iLAogICAgICAgICLQodC/0L7RgdC+0LEg0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L/RgNC10YHRgtGD0L/Qu9C10L3QuNGPIjogImNhdGVnb3J5IiwKICAgICAgICAi0J7RgdCy0LXRidC10L3QuNC1IjogImxpZ2h0IiwKICAgICAgICAi0JDQtNGA0LXRgSI6ICJhZGRyZXNzIiwKICAgICAgICAi0J3QsNC40LzQtdC90L7QstCw0L3QuNC1INC+0YDQs9Cw0L3QsCI6ICJvcmdhbml6YXRpb24iLAogICAgICAgICLQktC40LQg0YPQs9C+0LvQvtCy0L3QvtCz0L4g0L/RgNC10YHQu9C10LTQvtCy0LDQvdC40Y8iOiAiY3JpbWluYWxfdHlwZSIsCiAgICAgICAgItCa0LXQvCDQstGL0Y/QstC70LXQvdC+IjogImVtcGxveWVlIiwKICAgICAgICAi0JLRi9GP0LLQu9C10L3QviDQv9C+INC+0L/QtdGA0LDRgtC40LLQvdGL0Lwg0LTQsNC90L3Ri9C8IjogImlzX29wZXJhdGl2ZSIsCiAgICAgICAgItCa0LLQsNC70LjRhNC40LrQsNGG0LjRjyDQv9GA0LXRgdGC0YPQv9C70LXQvdC40Y8iOiAiY3JpbWVfcXVhbGlmaWNhdGlvbiIsCiAgICAgICAgItC/0YPQvdC60YIg0JrQstCw0LvQuNGE0LjQutCw0YbQuNGPINC/0YDQtdGB0YLRg9C/0LvQtdC90LjRjyDQv9C+INCj0Jog0KDQpCI6ICJ5a19xdWFsaWZpY2F0aW9uIiwKICAgICAgICAi0KLRj9C20LXRgdGC0YwiOiAic2V2ZXJpdHkiLAogICAgICAgICLQn9GA0LjQs9C+0YLQvtCy0LvQtdC90LjQtS/Qv9C+0LrRg9GI0LXQvdC40LUiOiAiaXNfYXR0ZW1wdCIsCiAgICAgICAgItCj0YnQtdGA0LEiOiAiZGFtYWdlIiwKICAgICAgICAi0J3QsNC/0YDQsNCy0LvQtdC90L3QvtGB0YLRjCI6ICJjcmltZV9kaXJlY3Rpb24iLAogICAgICAgICLQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0L3QsNGA0LrQvtGC0LjQutCwIjogImRydWdfbmFtZSIsCiAgICAgIH0sCgogICAgICBmaWx0ZXJQYXJhbXM6IG51bGwsCgogICAgICB0aW1lR3JvdXBzOiB7CiAgICAgICAgItCS0YHQtSDQstGA0LXQvNGPIjogbnVsbCwKICAgICAgICAiMi4wMCAtIDExLjAwIjogMCwKICAgICAgICAiMTEuMDAgLSAxNi4wMCI6IDEsCiAgICAgICAgIjE2LjAwIC0gMjEuMDAiOiAyLAogICAgICAgICIyMS4wMCAtIDIuMDAiOiAzLAogICAgICB9LAoKICAgICAgY2hvc2VkRGF0YTogewogICAgICAgIGRhdGV0aW1lX2FmdGVyOiBudWxsLAogICAgICAgIGRhdGV0aW1lX2JlZm9yZTogbmV3IERhdGUoKSwKICAgICAgICB0aW1lX2dyb3VwOiAn0JLRgdC1INCy0YDQtdC80Y8nCiAgICAgIH0sCgogICAgICBsb2FkZWQ6IGZhbHNlCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNlbmQoKSB7CiAgICAgIHRoaXMuY2hvc2VkRGF0YS50aW1lX2dyb3VwID0gdGhpcy50aW1lR3JvdXBzW3RoaXMuY2hvc2VkRGF0YS50aW1lX2dyb3VwXTsKICAgICAgdGhpcy4kZW1pdCgiZ2V0LWRhdGEiLCB0aGlzLmNob3NlZERhdGEpOwogICAgfSwKCiAgICBnZXREYXRhKCkgewogICAgICB0aGlzLmZpbHRlclBhcmFtcyA9IHsuLi50aGlzLmZpbHRlcn0KICAgICAgT2JqZWN0LmtleXModGhpcy5maWx0ZXIpLmZvckVhY2goKGtleSkgPT4gewogICAgICAgIGF4aW9zCiAgICAgICAgICAuZ2V0KAogICAgICAgICAgICBgJHt0aGlzLiRzdG9yZS5zdGF0ZS5iYWNrZW5kVXJsfS9tYXAvZ2V0LWZpbHRlci1wYXJhbXMvJHt0aGlzLmZpbHRlcltrZXldfS9gCiAgICAgICAgICApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5maWx0ZXJQYXJhbXNba2V5XSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIHRoaXMuY2hvc2VkRGF0YVt0aGlzLmZpbHRlcltrZXldXSA9IG51bGw7CiAgICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNsZWFyRm9ybSgpIHsKICAgICAgdGhpcy5jaG9zZWREYXRhID0gewogICAgICAgIGRhdGV0aW1lX2JlZm9yZTogbmV3IERhdGUoKSwKICAgICAgICB0aW1lX2dyb3VwOiAi0JLRgdC1INCy0YDQtdC80Y8iCiAgICAgIH0KICAgIH0sCiAgfSwKCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IHRoaXMuZ2V0RGF0YSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["StatFilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"StatFilter.vue","sourceRoot":"src/components/stat","sourcesContent":["<template>\n  <v-card elevation=\"0\">\n    <v-row class=\"px-3\">\n      <v-col cols=\"3\" v-for=\"field in Object.keys(filter)\" :key=\"field\">\n        <v-autocomplete\n          v-if='typeof(filterParams[field])==\"object\"'\n          :items=\"filterParams[field]\"\n          v-model=\"chosedData[filter[field]]\"\n          :label=\"field\"\n          clearable\n        ></v-autocomplete>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col cols=\"3\">\n        <DateTimeField v-model=\"chosedData.datetime_after\" label=\"С\" />\n      </v-col>\n\n      <v-col cols=\"3\">\n        <DateTimeField v-model=\"chosedData.datetime_before\" label=\"По\" />\n      </v-col>\n\n      <v-col cols=\"3\">\n        <v-select\n          v-model=\"chosedData.time_group\"\n          :items=\"Object.keys(timeGroups)\"\n          label=\"Время\"\n          class=\"md-4\"\n        >\n        </v-select>\n      </v-col>\n\n      <v-col cols=\"3\">\n        <v-row justify=\"center\">\n          <v-btn :color=\"$route.meta.theme\" @click=\"send\" x-large dark>\n            Найти\n          </v-btn>\n        </v-row>\n      </v-col>\n    </v-row>\n\n    <v-btn @click=\"clearForm\" fab elevation=\"0\" absolute right top>\n      <v-icon>mdi-restart</v-icon>\n    </v-btn>\n  </v-card>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/common.scss\";\n@import \"@/styles/views/stat.scss\";\n</style>\n\n<script>\nimport DateTimeField from \"../DateTimeForm.vue\";\n\nexport default {\n  name: \"StatFilter\",\n\n  components: {\n    DateTimeField,\n  },\n\n  data() {\n    return {\n      filter: {\n        \"Город\": \"parent_region\",\n        \"Регион\": \"region\",\n        \"Способ совершения преступления\": \"category\",\n        \"Освещение\": \"light\",\n        \"Адрес\": \"address\",\n        \"Наименование органа\": \"organization\",\n        \"Вид уголовного преследования\": \"criminal_type\",\n        \"Кем выявлено\": \"employee\",\n        \"Выявлено по оперативным данным\": \"is_operative\",\n        \"Квалификация преступления\": \"crime_qualification\",\n        \"пункт Квалификация преступления по УК РФ\": \"yk_qualification\",\n        \"Тяжесть\": \"severity\",\n        \"Приготовление/покушение\": \"is_attempt\",\n        \"Ущерб\": \"damage\",\n        \"Направленность\": \"crime_direction\",\n        \"Наименование наркотика\": \"drug_name\",\n      },\n\n      filterParams: null,\n\n      timeGroups: {\n        \"Все время\": null,\n        \"2.00 - 11.00\": 0,\n        \"11.00 - 16.00\": 1,\n        \"16.00 - 21.00\": 2,\n        \"21.00 - 2.00\": 3,\n      },\n\n      chosedData: {\n        datetime_after: null,\n        datetime_before: new Date(),\n        time_group: 'Все время'\n      },\n\n      loaded: false\n    };\n  },\n\n  methods: {\n    send() {\n      this.chosedData.time_group = this.timeGroups[this.chosedData.time_group];\n      this.$emit(\"get-data\", this.chosedData);\n    },\n\n    getData() {\n      this.filterParams = {...this.filter}\n      Object.keys(this.filter).forEach((key) => {\n        axios\n          .get(\n            `${this.$store.state.backendUrl}/map/get-filter-params/${this.filter[key]}/`\n          )\n          .then((response) => {\n            this.filterParams[key] = response.data;\n            this.chosedData[this.filter[key]] = null;\n          });\n      });\n    },\n\n    clearForm() {\n      this.chosedData = {\n        datetime_before: new Date(),\n        time_group: \"Все время\"\n      }\n    },\n  },\n\n  async created() {\n    await this.getData();\n  },\n};\n</script>"]}]}