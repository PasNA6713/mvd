{"remainingRequest":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/john/Documents/Projects/Хакатоны/mvd/frontend/src/components/DateTimeForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/src/components/DateTimeForm.vue","mtime":1620550798568},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGF0ZVRpbWVGaWVsZCIsCgogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICBsYWJlbDogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICB9LAoKICBkYXRhOiAoKSA9PiAoewogICAgbWVudTogZmFsc2UsCiAgICBkYXRlOiBudWxsLAogICAgdGltZTogbnVsbCwKICB9KSwKCiAgbWV0aG9kczogewogICAgc2V0RGF0ZVRpbWUodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLmRhdGUgPSB2YWwudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwoKICAgICAgICBsZXQgaCA9IHZhbC5nZXRIb3VycygpOwogICAgICAgIGlmIChoIDwgMTApIGggPSAiMCIgKyBoOwoKICAgICAgICBsZXQgbSA9IHZhbC5nZXRNaW51dGVzKCk7CiAgICAgICAgaWYgKG0gPCAxMCkgbSA9ICIwIiArIG07CgogICAgICAgIHRoaXMudGltZSA9IGggKyAiOiIgKyBtOwogICAgICB9CiAgICB9LAogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBkYXRldGltZSgpIHsKICAgICAgbGV0IGQgPSBudWxsOwogICAgICBpZiAodGhpcy5kYXRlKSBkID0gbmV3IERhdGUodGhpcy5kYXRlKTsKICAgICAgaWYgKHRoaXMuZGF0ZSAmJiB0aGlzLnRpbWUpIHsKICAgICAgICBsZXQgeSwgbSwgZCA9IHRoaXMuZGF0ZS5zcGxpdCgiLSIpOwogICAgICAgIGQgPSBuZXcgRGF0ZSh5LCBtLTEsIGQsIC4uLnRoaXMudGltZS5zcGxpdCgiOiIpKTsKICAgICAgfQogICAgICByZXR1cm4gZDsKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0RGF0ZVRpbWUodGhpcy52YWx1ZSk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRhdGV0aW1lKHZhbCkgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHZhbCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["DateTimeForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DateTimeForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"display: flex\">\n    <v-col cols=\"8\" class=\"py-0\">\n      <v-menu\n        v-model=\"menu\"\n        :close-on-content-click=\"false\"\n        :nudge-right=\"40\"\n        transition=\"scale-transition\"\n        offset-y\n        min-width=\"auto\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-text-field\n            v-model=\"date\"\n            :label=\"label\"\n            prepend-icon=\"mdi-calendar\"\n            readonly\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-date-picker v-model=\"date\" @input=\"menu = false\" no-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            text\n            color=\"primary\"\n            @click=\"\n              date = '';\n              menu = false;\n            \"\n          >\n            Clear\n          </v-btn>\n          <v-btn text color=\"primary\" @click=\"menu = false\"> Cancel </v-btn>\n        </v-date-picker>\n      </v-menu>\n    </v-col>\n\n    <v-col class=\"py-0\" align-self=\"center\">\n      <input class=\"ml-3 time\" type=\"time\" v-model=\"time\" />\n    </v-col>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DateTimeField\",\n\n  props: {\n    value: {\n      required: true,\n    },\n    label: {\n      required: false,\n      default: \"\",\n    },\n  },\n\n  data: () => ({\n    menu: false,\n    date: null,\n    time: null,\n  }),\n\n  methods: {\n    setDateTime(val) {\n      if (val) {\n        this.date = val.toISOString().substr(0, 10);\n\n        let h = val.getHours();\n        if (h < 10) h = \"0\" + h;\n\n        let m = val.getMinutes();\n        if (m < 10) m = \"0\" + m;\n\n        this.time = h + \":\" + m;\n      }\n    },\n  },\n\n  computed: {\n    datetime() {\n      let d = null;\n      if (this.date) d = new Date(this.date);\n      if (this.date && this.time) {\n        let y, m, d = this.date.split(\"-\");\n        d = new Date(y, m-1, d, ...this.time.split(\":\"));\n      }\n      return d;\n    },\n  },\n\n  created() {\n    this.setDateTime(this.value);\n  },\n\n  watch: {\n    datetime(val) {\n      this.$emit(\"input\", val);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.time {\n  font-size: 18px;\n  cursor: pointer;\n}\n\n.time::-webkit-calendar-picker-indicator {\n  color: white;\n  cursor: pointer;\n  display: none;\n}\n</style>"]}]}