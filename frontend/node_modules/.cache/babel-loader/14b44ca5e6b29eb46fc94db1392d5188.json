{"remainingRequest":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/thread-loader/dist/cjs.js!/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/babel-loader/lib/index.js!/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/john/Documents/Projects/Хакатоны/mvd/frontend/src/components/DateTimeForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/src/components/DateTimeForm.vue","mtime":1620550798568},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/Хакатоны/mvd/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jb25zdHJ1Y3QgZnJvbSAiL2hvbWUvam9obi9Eb2N1bWVudHMvUHJvamVjdHMvXHUwNDI1XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDQyXHUwNDNFXHUwNDNEXHUwNDRCL212ZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY29uc3RydWN0IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9qb2huL0RvY3VtZW50cy9Qcm9qZWN0cy9cdTA0MjVcdTA0MzBcdTA0M0FcdTA0MzBcdTA0NDJcdTA0M0VcdTA0M0RcdTA0NEIvbXZkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEYXRlVGltZUZpZWxkIiwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBsYWJlbDogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudTogZmFsc2UsCiAgICAgIGRhdGU6IG51bGwsCiAgICAgIHRpbWU6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXREYXRlVGltZTogZnVuY3Rpb24gc2V0RGF0ZVRpbWUodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLmRhdGUgPSB2YWwudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICAgIHZhciBoID0gdmFsLmdldEhvdXJzKCk7CiAgICAgICAgaWYgKGggPCAxMCkgaCA9ICIwIiArIGg7CiAgICAgICAgdmFyIG0gPSB2YWwuZ2V0TWludXRlcygpOwogICAgICAgIGlmIChtIDwgMTApIG0gPSAiMCIgKyBtOwogICAgICAgIHRoaXMudGltZSA9IGggKyAiOiIgKyBtOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGF0ZXRpbWU6IGZ1bmN0aW9uIGRhdGV0aW1lKCkgewogICAgICB2YXIgZCA9IG51bGw7CiAgICAgIGlmICh0aGlzLmRhdGUpIGQgPSBuZXcgRGF0ZSh0aGlzLmRhdGUpOwoKICAgICAgaWYgKHRoaXMuZGF0ZSAmJiB0aGlzLnRpbWUpIHsKICAgICAgICB2YXIgeSwKICAgICAgICAgICAgbSwKICAgICAgICAgICAgX2QgPSB0aGlzLmRhdGUuc3BsaXQoIi0iKTsKCiAgICAgICAgX2QgPSBfY29uc3RydWN0KERhdGUsIFt5LCBtIC0gMSwgX2RdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy50aW1lLnNwbGl0KCI6IikpKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0RGF0ZVRpbWUodGhpcy52YWx1ZSk7CiAgfSwKICB3YXRjaDogewogICAgZGF0ZXRpbWU6IGZ1bmN0aW9uIGRhdGV0aW1lKHZhbCkgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHZhbCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DateTimeForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,QAAA,EAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAJA,GAHA;AAaA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAAA,GAbA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AACA,UAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA,GAAA,CAAA,WAAA,GAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AAEA,YAAA,CAAA,GAAA,GAAA,CAAA,QAAA,EAAA;AACA,YAAA,CAAA,GAAA,EAAA,EAAA,CAAA,GAAA,MAAA,CAAA;AAEA,YAAA,CAAA,GAAA,GAAA,CAAA,UAAA,EAAA;AACA,YAAA,CAAA,GAAA,EAAA,EAAA,CAAA,GAAA,MAAA,CAAA;AAEA,aAAA,IAAA,GAAA,CAAA,GAAA,GAAA,GAAA,CAAA;AACA;AACA;AAbA,GAnBA;AAmCA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,CAAA,GAAA,IAAA;AACA,UAAA,KAAA,IAAA,EAAA,CAAA,GAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA;;AACA,UAAA,KAAA,IAAA,IAAA,KAAA,IAAA,EAAA;AACA,YAAA,CAAA;AAAA,YAAA,CAAA;AAAA,YAAA,EAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,QAAA,EAAA,cAAA,IAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,EAAA,4BAAA,KAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA;;AACA,aAAA,CAAA;AACA;AATA,GAnCA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,WAAA,CAAA,KAAA,KAAA;AACA,GAjDA;AAmDA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,GAAA;AACA;AAHA;AAnDA,CAAA","sourcesContent":["<template>\n  <div style=\"display: flex\">\n    <v-col cols=\"8\" class=\"py-0\">\n      <v-menu\n        v-model=\"menu\"\n        :close-on-content-click=\"false\"\n        :nudge-right=\"40\"\n        transition=\"scale-transition\"\n        offset-y\n        min-width=\"auto\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-text-field\n            v-model=\"date\"\n            :label=\"label\"\n            prepend-icon=\"mdi-calendar\"\n            readonly\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-date-picker v-model=\"date\" @input=\"menu = false\" no-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            text\n            color=\"primary\"\n            @click=\"\n              date = '';\n              menu = false;\n            \"\n          >\n            Clear\n          </v-btn>\n          <v-btn text color=\"primary\" @click=\"menu = false\"> Cancel </v-btn>\n        </v-date-picker>\n      </v-menu>\n    </v-col>\n\n    <v-col class=\"py-0\" align-self=\"center\">\n      <input class=\"ml-3 time\" type=\"time\" v-model=\"time\" />\n    </v-col>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DateTimeField\",\n\n  props: {\n    value: {\n      required: true,\n    },\n    label: {\n      required: false,\n      default: \"\",\n    },\n  },\n\n  data: () => ({\n    menu: false,\n    date: null,\n    time: null,\n  }),\n\n  methods: {\n    setDateTime(val) {\n      if (val) {\n        this.date = val.toISOString().substr(0, 10);\n\n        let h = val.getHours();\n        if (h < 10) h = \"0\" + h;\n\n        let m = val.getMinutes();\n        if (m < 10) m = \"0\" + m;\n\n        this.time = h + \":\" + m;\n      }\n    },\n  },\n\n  computed: {\n    datetime() {\n      let d = null;\n      if (this.date) d = new Date(this.date);\n      if (this.date && this.time) {\n        let y, m, d = this.date.split(\"-\");\n        d = new Date(y, m-1, d, ...this.time.split(\":\"));\n      }\n      return d;\n    },\n  },\n\n  created() {\n    this.setDateTime(this.value);\n  },\n\n  watch: {\n    datetime(val) {\n      this.$emit(\"input\", val);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.time {\n  font-size: 18px;\n  cursor: pointer;\n}\n\n.time::-webkit-calendar-picker-indicator {\n  color: white;\n  cursor: pointer;\n  display: none;\n}\n</style>"],"sourceRoot":"src/components"}]}